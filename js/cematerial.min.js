if("undefined"==typeof jQuery)throw new Error("CEMaterial requires jQuery");+function(a){"use strict";function c(c,d){return this.each(function(){var e=a(this),f=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c?c:{}),g=e.data("cem.dialog");g||(g=new b(this,f),e.data("cem.dialog",g)),"string"==typeof c?g[c](d):f.show&&g.show(d)})}var b=function(c,d){var e=this;this.options=d||{},this.$el=a(c),this.options.remote&&this.$el.find(".dialog-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("cem.dialog.loaded")},this)),this.options.autoclose&&this.$el.on("click",function(b){var c=a(b.target);c.is(e.$el)&&e.hide(c)}),this.options.keyboard&&a(document).on("keydown",function(c){var d=a(c.target);27==c.which&&e==b.OPENED[b.OPENED.length-1]&&e.hide(d)})};b.VERSION="0.1.0",b.DEFAULTS={autoclose:!0,focus:!1,keyboard:!0},b.OPENED=[],b.prototype.toggle=function(a){return this.$el.hasClass("dialog-visible")?this.hide():this.show(a)},b.prototype.show=function(c){var d;d=a.Event("cem.dialog.beforeShow",{relatedTarget:c}),this.$el.trigger(d),this.$el.addClass("dialog-visible"),this.options.focus&&this.$el.find(this.options.focus).focus();var e=b.OPENED[b.OPENED.length-1];this!=e&&b.OPENED.push(this),d=a.Event("cem.dialog.show",{relatedTarget:c}),this.$el.trigger(d)},b.prototype.hide=function(c){var d;d=a.Event("cem.dialog.beforeHide",{relatedTarget:c}),this.$el.trigger(d),this.$el.removeClass("dialog-visible");var e=b.OPENED[b.OPENED.length-1];this==e&&b.OPENED.pop(),d=a.Event("cem.dialog.hide",{relatedTarget:c}),this.$el.trigger(d)},a.fn.dialog=c,a.fn.dialog.Constructor=b,a(document).on("click",'[data-toggle="dialog"]',function(b){var d=a(this),e=CEMaterial.getTarget(d,".dialog");d.is("a")?b.preventDefault():"",c.call(e,"toggle",this)})}(jQuery),+function(a){"use strict";function c(c,d){return this.each(function(){var e=a(this),f=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c?c:{}),g=e.data("cem.panel");g||(g=new b(this,f),e.data("cem.panel",g)),"string"==typeof c?g[c](d):f.show&&g.show(d)})}var b=function(b,c){this.options=c||{},this.$el=a(b),this.options.margin?this.$el.removeClass("panel-nomargin"):this.$el.addClass("panel-nomargin"),this.options.scale?this.$el.removeClass("panel-noscale"):this.$el.addClass("panel-noscale")};b.VERSION="0.1.0",b.DEFAULTS={margin:!0,scale:!0},b.prototype.toggle=function(a){return this.$el.hasClass("panel-visible")?this.hide():this.show(a)},b.prototype.show=function(b){var c;this.$el.closest(".panel-group").find(".panel.panel-visible").panel("hide"),c=a.Event("cem.panel.beforeShow",{relatedTarget:b}),this.$el.trigger(c),this.$el.addClass("panel-visible"),c=a.Event("cem.panel.show",{relatedTarget:b}),this.$el.trigger(c)},b.prototype.hide=function(b){var c;c=a.Event("cem.panel.beforeHide",{relatedTarget:b}),this.$el.trigger(c),this.$el.removeClass("panel-visible"),c=a.Event("cem.panel.hide",{relatedTarget:b}),this.$el.trigger(c)},a.fn.panel=c,a.fn.panel.Constructor=b,a(document).on("click",'[data-toggle="panel"]',function(b){var d=a(this),e=CEMaterial.getTarget(d,".panel");d.is("a")?b.preventDefault():"",c.call(e,"toggle",this)})}(jQuery),+function(a){"use strict";function c(c,d){return this.each(function(){var e=a(this),f=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c?c:{}),g=e.data("cem.dropdown");g||(g=new b(this,f),e.data("cem.dropdown",g)),"string"==typeof c?g[c](d):f.show&&g.show(d)})}var b=function(b,c){this.options=c||{},this.$el=a(b),this.options.autoclose&&a(document).on("click",function(b){var c=a(b.target);a(".dropdown-visible").not(c.parents(".dropdown-visible")).dropdown("hide")})};b.VERSION="0.1.0",b.DEFAULTS={autoclose:!0},b.prototype.toggle=function(a){return this.$el.hasClass("dropdown-visible")?this.hide():this.show(a)},b.prototype.show=function(b){var c;a(document).find(".dropdown.dropdown-visible").not(this.$el.parents(".dropdown-visible")).dropdown("hide"),c=a.Event("cem.dropdown.beforeShow",{relatedTarget:b}),this.$el.trigger(c),this.$el.addClass("dropdown-visible"),c=a.Event("cem.dropdown.show",{relatedTarget:b}),this.$el.trigger(c)},b.prototype.hide=function(b){var c;c=a.Event("cem.dropdown.beforeHide",{relatedTarget:b}),this.$el.trigger(c),this.$el.removeClass("dropdown-visible"),c=a.Event("cem.dropdown.hide",{relatedTarget:b}),this.$el.trigger(c)},a.fn.dropdown=c,a.fn.dropdown.Constructor=b,a(document).on("click",'[data-toggle="dropdown"]',function(b){var d=a(this),e=CEMaterial.getTarget(d,".dropdown");d.is("a")?b.preventDefault():"",c.call(e,"toggle",this)})}(jQuery),+function(a){"use strict";function c(c,d){return this.each(function(){var e=a(this),f=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c?c:{}),g=e.data("cem.tooltip");g||(g=new b(this,f),e.data("cem.tooltip",g)),"string"==typeof c?g[c](d):f.show&&g.show(d)})}var b=function(b,c){this.options=c||{},this.$el=a(b),this.$tooltip=a('<span class="tooltip"></span>'),this.options.wrap||this.$tooltip.addClass("tooltip-nowrap")};b.VERSION="0.1.0",b.DEFAULTS={html:!1,wrap:!1},b.prototype.show=function(b){var c;c=a.Event("cem.tooltip.beforeShow",{relatedTarget:b}),this.$el.trigger(c),this.updateTitle(),this.updatePosition(),c=a.Event("cem.tooltip.show",{relatedTarget:b}),this.$el.trigger(c)},b.prototype.hide=function(b){var c;c=a.Event("cem.tooltip.beforeHide",{relatedTarget:b}),this.$el.trigger(c),this.$tooltip.removeClass("tooltip-visible").remove(),c=a.Event("cem.tooltip.hide",{relatedTarget:b}),this.$el.trigger(c)},b.prototype.updateTitle=function(){this.$el.data("tooltip")||this.$el.data("tooltip",this.$el.attr("title"));var b=this.$el.data("tooltip");this.options.html||(b=a("<div/>").html(b).text()),this.$tooltip.html(b)},b.prototype.updatePosition=function(){this.$tooltip.appendTo("body");var b=this.$el.offset(),c=this.$tooltip.outerWidth(),d=Math.max(b.left+this.$el.outerWidth()/2-c/2,0);d=Math.min(d,a("body").outerWidth()-c),this.$tooltip.css({top:b.top+this.$el.outerHeight(),left:d}).addClass("tooltip-visible")},a.fn.tooltip=c,a.fn.tooltip.Constructor=b,a(document).on("mouseover focus","[data-tooltip]",function(){c.call(a(this),"show",this)}).on("mouseleave blur","[data-tooltip]",function(){c.call(a(this),"hide",this)})}(jQuery),jQuery(function(a){var b=a(document);CEMaterial.init(b),b.on("DOMNodeInserted",function(b){CEMaterial.init(a(b.target))})}),jQuery(function(a){var b=a(document),c=a("body"),d=c;d.on("focus","[data-class-focus]",function(){CEMaterial.bindClassEvent(a(this),"focus")}).on("blur","[data-class-focus]",function(){CEMaterial.unbindClassEvent(a(this),"focus")}).on("mouseenter","[data-class-hover]",function(){CEMaterial.bindClassEvent(a(this),"hover")}).on("mouseleave","[data-class-hover]",function(){CEMaterial.unbindClassEvent(a(this),"hover")});var e='input:not([type="radio"]):not([type="checkbox"]):not([type="button"]), select, textarea';d.on("focus",e,function(){CEMaterial.onFocus(a(this))}).on("blur",e,function(){CEMaterial.onBlur(a(this))}),d.on("input",".input-autogrow",function(){var b=a(this);CEMaterial.inputAutoGrow(b)}),d.on("drag dragstart dragend dragover dragenter dragleave drop",".filedrop",function(a){a.preventDefault(),a.stopPropagation()}).on("dragover dragenter",".filedrop",function(){a(this).addClass("filedrop-dragover")}).on("dragleave drop",".filedrop",function(){a(this).removeClass("filedrop-dragover")}).on("drop",".filedrop",function(b){b.preventDefault();var c=a(this),d=c.find('input[type="file"]'),e=b.originalEvent.dataTransfer.files||[];(d.attr("accept")||"").split(",");d.prop("files",e)}).on("change",'.filedrop input[type="file"]',function(b){var c=a(this),d=c.closest(".filedrop"),e=b.target.files;if(d.find("img, .filedrop-list").remove(),e&&e.length){var f=a('<div class="filedrop-list"></div>').prependTo(d);for(var g in e){if(isNaN(g))break;var h=new FileReader;h.onload=function(a){f.append('<img class="img-fluid" src="'+a.target.result+'"/>')},h.readAsDataURL(e[g])}}}),d.on("click","[data-toggle]",function(b){var c=a(this),d=c.data("toggle").trim(),e=CEMaterial.getTarget(c,"."+d),f={relatedTarget:c};switch(d){case"tab":c.closest(".tab-list").find(".tab-active").not(c).trigger(jQuery.Event("cem.tab.hide",f)),c.trigger(jQuery.Event("cem.tab.show",f));case"sidebar":e.toggleClass("sidebar-visible"),b.stopPropagation();break;case"table":var g=c.prop("checked");e=e.length?e:c.closest("table"),e.find('input[type="checkbox"]').prop("checked",g),b.stopPropagation()}}),d.on("cem.tab.show",'.tab-list [data-toggle="tab"]',function(b){var c=a(this),d=c.closest(".tabs"),e=d.find(".tab-list"),f=e.find(".tab-bar");f.length||(f=a('<div class="tab-bar"></div>').prependTo(e));var g=c.data("index");g||(g=c.index()-1),c.is("li")&&(c=c.find("a")),c.addClass("tab-active"),d.find(".tab-content").eq(g).addClass("tab-visible"),f.css({transform:"translateX("+c.position().left+"px)",width:c.outerWidth()}),b.stopPropagation()}).on("cem.tab.hide",'.tab-list [data-toggle="tab"]',function(b){a(this).removeClass("tab-active").closest(".tabs").find(".tab-content.tab-visible").removeClass("tab-visible"),b.stopPropagation()}),b.on("click",function(b){var c=a(b.target);a(".sidebar-visible").not(c.closest(".sidebar-visible")).removeClass("sidebar-visible")})});var CEMaterial={init:function(a){CEMaterial.onBlur(a.find(".label-float .input").not(":button").filter(function(){return this.value})),CEMaterial.inputAutoGrow(a.find(".input-autogrow"))},getTarget:function(a,b){return a.data("target")?$(a.data("target")):a.attr("href")&&"#"!=a.attr("href")?$(a.attr("href")):b?a.closest(b):new jQuery},getLabels:function(a){var b=a.closest("label,.label"),c=a.attr("id");return c&&(b=b.add($('label[for="'+c+'"]'))),b},onFocus:function(a){a.length&&a.each(function(){var a=$(this),b=CEMaterial.getLabels(a);b.addClass("label-active label-focus")})},onBlur:function(a){a.length&&a.each(function(){var a=$(this),b=CEMaterial.getLabels(a).removeClass("label-focus"),c=a.val()||"",d=c instanceof Array?c.length:c.trim();b.toggleClass("label-active",!!d)})},bindClassEvent:function(a,b){var c=a.data("class-"+b);a.hasClass(c)||(a.data(b+"-remove",c),a.addClass(c))},unbindClassEvent:function(a,b){a.removeClass(a.data(b+"-remove"))},inputAutoGrow:function(a){a.each(function(){var a=$(this);a.is("textarea")?(this.style.height="",this.style.height=this.scrollHeight+"px"):a.is("input")&&a.val()&&a.prop("size",a.val().length)})}};